[project]
name = "annas-archive-toolchain-mcp"
version = "0.1.0"
readme = "README.md"
requires-python = ">=3.11"
description = "Human-friendly Typer CLI for Anna's Archive: search, fast MD5 download, Markdown normalization, Chroma ingestion, semantic search."
keywords = [
  "annas archive",
  "cli",
  "downloader",
  "chroma",
  "rag",
  "markdown",
  "playwright",
  "semantic search",
  "epub",
  "pdf",
  "mobi",
]

dependencies = [
  "pydantic>=2.11.4",
  "rich",
  "typer",
  "loguru",
  "backoff",
  "playwright",
  "black",
  "pyright",
  "unstructured[md]",
  "epub-utils",
  "mobi",
  "pypandoc",
  "html2text",
  "markdown",
  "EbookLib",
  # "ftfy",
  "prettytable",
  "httpx",
  "chromadb",
  "fastmcp",
]

[project.optional-dependencies]
db = [
  "sqlmodel>=0.0.24",
  "pgvector>=0.4.1",
]

langchain = [
  "langchain",
  "langchain-text-splitters",
]

dev = [
  "pytest",
  "pytest-asyncio",
  "langchain-mcp-adapters",
]

legacy = [
  "fire",
]

[tool.setuptools]
packages = ["annas", "tests"]

[tool.pyright]
include = ["annas","tests"]
exclude = ["**/node_modules", "**/__pycache__", "lib"]

[tool.uv]
override-dependencies = [
  "langchain>=1.0.0a6",
  "langgraph>=1.0.0a4",
  "langchain-openai>=1.0.0a3",
]

[tool.uv.pip]
prerelease = "allow"

[tool.pytest.ini_options]
testpaths = [
    "tests",
]
